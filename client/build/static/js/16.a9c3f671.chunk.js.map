{"version":3,"sources":["services/auth-header.js","common/useQuery.js","services/transaction.service.js","components/Success.js"],"names":["authHeader","user","JSON","parse","localStorage","getItem","accessToken","useQuery","URLSearchParams","useLocation","search","session_id","axios","post","headers","then","data","Success","useState","error","setError","checkedSession","setCheckedSession","useEffect","get","transactionService","catch","err","Container","style","margin","paddingTop","textAlign"],"mappings":"qHAAe,SAASA,IACtB,IAAMC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,SAE7C,OAAIJ,GAAQA,EAAKK,YACR,CAAE,iBAAkBL,EAAKK,aAEzB,GANX,mC,iCCCA,WAGeC,IAFS,kBAAM,IAAIC,gBAAgBC,cAAcC,U,uICYjD,EARmB,SAACC,GAC/B,OAAOC,IAAMC,KAAN,UAHK,sDAGL,kCAEH,CAAEF,WAAYA,GACd,CAAEG,QAASd,gBACVe,MAAK,SAACC,GAAD,OAAUA,EAAKA,S,gBCLd,SAASC,IACpB,IAAMP,EAASH,cACf,EAA0BW,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA4CF,oBAAS,GAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KAgBA,OAfAC,qBAAU,WACN,IAAIZ,EAAaD,EAAOc,IAAI,cACxBb,EACAc,EAAsCd,GAAYI,KAC9CO,GAAkB,IACpBI,OAAM,SAACC,GACLL,GAAkB,GAClBF,EAAS,0DAGbA,EAAS,2EAGd,IAEEC,GAAmBF,EAYhB,cAACS,EAAA,EAAD,UACMT,EAOG,sBAAKU,MAAO,CAAEC,OAAQ,OAAQC,WAAY,OAAQC,UAAW,UAA7D,UACG,uCACA,4BAAIb,OAPP,sBAAKU,MAAO,CAAEC,OAAQ,OAAQC,WAAY,OAAQC,UAAW,UAA7D,UACG,yCACA,4EACA,0GAhBZ,cAACJ,EAAA,EAAD,UACI,qBAAKC,MAAO,CAAEC,OAAQ,OAAQC,WAAY,OAAQC,UAAW,UAA7D,SACI","file":"static/js/16.a9c3f671.chunk.js","sourcesContent":["export default function authHeader() {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  if (user && user.accessToken) {\n    return { \"x-access-token\": user.accessToken };\n  } else {\n    return {};\n  }\n}\n","\nimport { useLocation } from \"react-router\";\nexport const useQuery = () => new URLSearchParams(useLocation().search);\n\nexport default useQuery;","import axios from 'axios'\nimport authHeader from \"./auth-header\";\n\n// const API_URL = \"http://localhost:8080/api/\";\nconst API_URL = \"https://tadoo-backend-p9hgk.ondigitalocean.app/api/\"\n\nexport const checkSessionResult = (session_id) => {\n    return axios.post(\n        `${API_URL}transactions/check_transaction`,\n        { session_id: session_id },\n        { headers: authHeader() })\n        .then((data) => data.data);\n}\n\nexport default {\n    checkSessionResult\n}","import React, { useEffect, useState } from 'react'\nimport { Container } from '@mui/material';\n// import React, { useEffect, useState } from 'react';\nimport transactionService from '../services/transaction.service';\nimport useQuery from '../common/useQuery';\n\nexport default function Success() {\n    const search = useQuery();\n    const [error, setError] = useState(\"\")\n    const [checkedSession, setCheckedSession] = useState(false);\n    useEffect(() => {\n        let session_id = search.get('session_id');\n        if (session_id) {\n            transactionService.checkSessionResult(session_id).then(\n                setCheckedSession(true)\n            ).catch((err) => {\n                setCheckedSession(true)\n                setError(\"Error processing transaction please contact support\")\n            })\n        } else {\n            setError(\"Error No Session ID Pass. If this is a mistake please contact support\")\n        }\n\n    }, [])\n\n    if (!checkedSession && !error) {\n        return (\n            <Container>\n                <div style={{ margin: \"auto\", paddingTop: '20px', textAlign: 'center' }}>\n                    <h1>Processing...</h1>\n                </div>\n            </Container>\n        )\n\n    }\n    else {\n        return (\n            <Container>\n                {!error ?\n\n                    (<div style={{ margin: \"auto\", paddingTop: '20px', textAlign: 'center' }}>\n                        <h1>Success</h1>\n                        <p>Please give the Artist 48 hours to respond.</p>\n                        <p>Navigate to appointments to see your invoice and appointment status!</p>\n                    </div>) :\n                    (<div style={{ margin: \"auto\", paddingTop: '20px', textAlign: 'center' }}>\n                        <h1>Error</h1>\n                        <p>{error}</p>\n                    </div>)\n                }\n            </Container>\n        )\n    }\n}\n"],"sourceRoot":""}