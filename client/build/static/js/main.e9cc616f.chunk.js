(this["webpackJsonptadoo-client"]=this["webpackJsonptadoo-client"]||[]).push([[4],{27:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(15),c=Object(o.a)()},58:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));n(0),n(27);var o=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}},c=function(){var e=JSON.parse(localStorage.getItem("user"));if(e&&1e3*o(e.accessToken).exp>Date.now())return!0;return!1}},73:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var o,c=n(0),r=n(53),a=n.n(r),l=(n(73),n(21)),i=n(26),s=n(51),j=n(7),b=(n(74),n(9)),u=n(104),x=n(105),h=n(106),p=n(108),O=n(109),m=n(103),d=n(27),f=n(58),g=n(3),w=Object(c.lazy)((function(){return n.e(18).then(n.bind(null,322))})),y=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(17)]).then(n.bind(null,323))})),k=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(8),n.e(15)]).then(n.bind(null,324))})),v=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(6)]).then(n.bind(null,328))})),z=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(10),n.e(14)]).then(n.bind(null,336))})),S=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(7)]).then(n.bind(null,337))})),D=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,338))})),P=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(11),n.e(13)]).then(n.bind(null,334))})),G=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(12)]).then(n.bind(null,339))})),J=Object(b.a)(s.a)(o||(o=Object(i.a)(["\n  color:'red';\n  &:hover: {\n    color: blue;\n  }\n"]))),I=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),n=t[0],o=t[1];Object(c.useEffect)((function(){d.a.listen((function(){var e=JSON.parse(localStorage.getItem("user"));(o(e),console.log("user",e),e)&&(1e3*Object(f.b)(e.accessToken).exp<Date.now()&&r())}))})),Object(c.useEffect)((function(){o(JSON.parse(localStorage.getItem("user")))}),[d.a]);var r=Object(c.useCallback)((function(){localStorage.removeItem("user"),d.a.push("/login"),o(null)}),[]);return Object(g.jsx)(c.Suspense,{fallback:Object(g.jsxs)(u.a,{children:[Object(g.jsx)("h1",{children:"...loading"})," "]}),children:Object(g.jsx)(j.c,{history:d.a,children:Object(g.jsxs)(u.a,{style:{width:"100%",padding:"0"},children:[Object(g.jsx)(x.a,{sx:{flexGrow:1},children:Object(g.jsx)(h.a,{position:"static",children:Object(g.jsxs)(p.a,{children:[Object(g.jsx)(O.a,{component:J,size:"large",edge:"start",to:"/",color:"white",sx:{mr:2}}),Object(g.jsx)(O.a,{component:J,to:"/",color:"white",sx:{flexGrow:1,textDecoration:"none"},children:"Tadoo"}),n?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O.a,{component:J,to:"/profile/".concat(n.username),color:"white",sx:{flexGrow:1,textDecoration:"none"},children:n.username}),Object(g.jsx)(O.a,{component:J,to:"/market",color:"white",sx:{flexGrow:1,textDecoration:"none"},children:"Marketplace"}),Object(g.jsx)(O.a,{component:J,to:"/myAppointments",color:"white",sx:{flexGrow:1,textDecoration:"none"},children:"Appointment"}),Object(g.jsx)(m.a,{onClick:r,style:{color:"white"},children:"Logout"})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O.a,{component:J,to:"/register",color:"white",sx:{flexGrow:1,textDecoration:"none"},children:"Register"}),Object(g.jsx)(O.a,{component:J,to:"/login",color:"white",sx:{flexGrow:1,textDecoration:"none"},children:"Login"})]})]})})}),Object(g.jsx)("div",{children:Object(g.jsxs)(j.d,{children:[Object(g.jsx)(j.b,{exact:!0,path:["/","/home"],component:w}),Object(g.jsx)(j.b,{exact:!0,path:"/login",component:y}),Object(g.jsx)(j.b,{exact:!0,path:"/register",component:k}),Object(g.jsx)(j.b,{exact:!0,path:"/profile/:username",component:v}),Object(g.jsx)(j.b,{path:"/market",exact:!0,component:z}),Object(g.jsx)(j.b,{path:"/market/:id",component:S}),Object(g.jsx)(j.b,{path:"/myAppointments",component:P}),Object(g.jsx)(j.b,{path:"/merchantAppointments",component:G}),Object(g.jsx)(j.b,{path:"/success",component:D})]})})]})})})};a.a.render(Object(g.jsx)(I,{}),document.getElementById("root"))}},[[80,5,9]]]);
//# sourceMappingURL=main.e9cc616f.chunk.js.map