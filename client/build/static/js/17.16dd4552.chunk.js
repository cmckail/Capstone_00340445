(this["webpackJsonptadoo-client"]=this["webpackJsonptadoo-client"]||[]).push([[17],{124:function(e,t,a){"use strict";var n=a(115),r=a.n(n),s=a(116),c=a(113),i=a.n(c),o=function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).set("key","15d70c0c49ab3173c703b923def2f200"),a.append("image",t),e.abrupt("return",i.a.post("https://api.imgbb.com/1/upload",a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={uploadPhoto:o}},244:function(e,t,a){"use strict";var n=a(115),r=a.n(n),s=a(117),c=a(116),i=a(113),o=a.n(i),u=a(124),l="https://tadoo-backend-p9hgk.ondigitalocean.app/api/auth/",p=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.selectedFile){e.next=6;break}return e.next=3,u.a.uploadPhoto(t.selectedFile).catch((function(e){e.response&&console.log("error response",e.response.data)}));case 3:a=e.sent,n=a.data,t=Object(s.a)(Object(s.a)({},t),{},{profile_picture:JSON.stringify(n.data,null,4)});case 6:return delete t.selectedFile,e.abrupt("return",o.a.post(l+"signup",Object(s.a)({},t)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d={register:p,login:function(e,t){return o.a.post(l+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}};t.a=d},323:function(e,t,a){"use strict";a.r(t);var n=a(115),r=a.n(n),s=a(116),c=a(21),i=a(0),o=a(7),u=a(266),l=a(244),p=a(58),d=a(144),b=a.n(d),j=a(154),f=a.n(j),O=a(146),h=a.n(O),x=a(3),m=function(e){if(!e)return Object(x.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})};t.default=function(){var e=Object(i.useRef)(),t=Object(i.useRef)(),a=Object(i.useState)(!1),n=Object(c.a)(a,2),d=n[0],j=n[1],O=Object(i.useState)(""),g=Object(c.a)(O,2),v=g[0],y=g[1],w=Object(i.useState)(""),k=Object(c.a)(w,2),S=k[0],N=k[1],F=Object(i.useState)(""),J=Object(c.a)(F,2),C=J[0],P=J[1],A=Object(o.g)();Object(i.useEffect)((function(){j(Object(p.a)())}),[]),Object(i.useEffect)((function(){if(d){var e=JSON.parse(localStorage.getItem("user"));A.push("/profile/".concat(e.username))}}),[d]);var D=function(){var a=Object(s.a)(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),P(""),e.current.validateAll(),0!==t.current.context._errors.length){a.next=8;break}return a.next=6,l.a.login(v,S).catch((function(e){e.response&&P(e.response.data.message)}));case 6:a.sent,j(p.a);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(x.jsxs)(u.a,{container:!0,style:{width:"100%"},children:[Object(x.jsx)(u.a,{item:!0,xs:10,style:{padding:"50px"}}),Object(x.jsx)(u.a,{item:!0,xs:12,container:!0,style:{justifyContent:"center"},children:Object(x.jsx)(b.a,{onSubmit:D,ref:e,style:{maxWidth:"80%"},children:Object(x.jsxs)(u.a,{container:!0,spacing:1,children:[Object(x.jsxs)(u.a,{item:!0,xs:10,children:[Object(x.jsx)("label",{htmlFor:"username",children:"Username"}),Object(x.jsx)(f.a,{type:"text",className:"form-control",name:"username",value:v,onChange:function(e){var t=e.target.value;y(t)},validations:[m]})]}),Object(x.jsxs)(u.a,{item:!0,xs:10,children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)(f.a,{type:"password",className:"form-control",name:"password",value:S,onChange:function(e){var t=e.target.value;N(t)},validations:[m]})]}),Object(x.jsx)(u.a,{item:!0,xs:12}),Object(x.jsx)(u.a,{item:!0,xs:10,style:{textAlign:"end"},children:Object(x.jsx)("button",{className:"btn btn-primary btn-block",children:"Login"})}),C&&Object(x.jsx)(u.a,{item:!0,xs:12,children:Object(x.jsx)("div",{className:"alert alert-danger",role:"alert",children:C})}),Object(x.jsx)(h.a,{style:{display:"none"},ref:t})]})})})]})}}}]);
//# sourceMappingURL=17.16dd4552.chunk.js.map