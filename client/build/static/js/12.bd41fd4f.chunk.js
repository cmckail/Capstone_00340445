(this["webpackJsonptadoo-client"]=this["webpackJsonptadoo-client"]||[]).push([[12],{117:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n(6);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},120:function(t,e,n){"use strict";function o(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.accessToken?{"x-access-token":t.accessToken}:{}}n.d(e,"a",(function(){return o}))},138:function(t,e,n){"use strict";function o(t){if(t)try{return JSON.parse(t)}catch(e){console.log("error parsing image")}return{}}n.d(e,"a",(function(){return o}))},141:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(117),c=n(0),r=n(332),i=n(330),a=n(3),s=c.forwardRef((function(t,e){return Object(a.jsx)(i.a,Object(o.a)({elevation:6,ref:e,variant:"filled"},t))}));function d(t){var e=t.open,n=t.setOpen,o=t.severity,c=void 0===o?"success":o,i=t.msg,d=void 0===i?"Default mssg":i,u=function(t,e){"clickaway"!==e&&n(!1)};return Object(a.jsx)(r.a,{open:e,autoHideDuration:6e3,onClose:u,children:Object(a.jsx)(s,{onClose:u,severity:c,sx:{width:"100%"},children:d})})}},235:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(0);var o=n(329),c=n(3);function r(t){var e=t.open,n=t.handleClose,r=t.children;return Object(c.jsx)(o.a,{open:e,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:r})}},239:function(t,e,n){"use strict";var o=n(113),c=n.n(o),r=n(120),i="https://tadoo-backend-p9hgk.ondigitalocean.app/api/";e.a={getUserAppointments:function(){return c.a.get("".concat(i,"appointments/user"),{headers:Object(r.a)()}).then((function(t){return t.data}))},getMerchantAppointments:function(){return c.a.get("".concat(i,"appointments/merchant"),{headers:Object(r.a)()}).then((function(t){return t.data}))},bookAppointment:function(t,e){return c.a.post("".concat(i,"appointments/book"),{booked:t,id:e},{headers:Object(r.a)()}).then((function(t){return t.data}))}}},253:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n(254);function c(t){if("string"!==typeof t)return t;var e=Object(o.a)(t),n=e[0],c=e.slice(1);return n.toUpperCase()+c.join("").toLowerCase()}},254:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(54),c=n(56),r=n(35),i=n(55);function a(t){return Object(o.a)(t)||Object(c.a)(t)||Object(r.a)(t)||Object(i.a)()}},339:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w}));var o=n(21),c=n(0),r=n(104),i=n(239),a=n(9),s=n(105),d=n(103),u=n(107),l=n(109),j=n(253),b=n(235),p=n(138),O=n(3),h=Object(a.a)(s.a)({display:"flex",marginBottom:"5px",border:"1px solid black"}),f=Object(a.a)(s.a)({backgroundColor:"white",padding:"10px",width:"100%",alignSelf:"center"}),v=Object(a.a)(s.a)({padding:"10px",width:"fit-content",textAlign:"right",border:"1px solid black"}),x=Object(a.a)(d.a)({display:"block",textAlign:"center",width:"100%",marginBottom:"5px"}),g=Object(a.a)(u.a)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",backgroundColor:"white",border:"2px solid #000",padding:"10px",boxShadow:24,p:4}),m=Object(a.a)("img")({margin:"auto",width:"100%",height:"300px",objectFit:"contain"});function k(t){var e,n,r,a,s,d,u,k,y,w,C=t.appointment,S=t.updateToast,A=Object(c.useState)(!1),D=Object(o.a)(A,2),P=D[0],B=D[1],T=Object(c.useState)(!1),M=Object(o.a)(T,2),U=M[0],E=M[1],J=(null===C||void 0===C?void 0:C.booked)?"Booked":"Not Booked",N=null===C||void 0===C||null===(e=C.transaction)||void 0===e?void 0:e.product,L=Object(p.a)(null===N||void 0===N?void 0:N.image),R=null===C||void 0===C||null===(n=C.transaction)||void 0===n?void 0:n.user;return Object(O.jsxs)(h,{children:[Object(O.jsx)(b.a,{open:P,handleClose:function(){return B(!1)},children:Object(O.jsxs)(g,{children:[Object(O.jsx)(m,{src:null===L||void 0===L?void 0:L.url}),Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Tattoo:"})," ".concat(null===C||void 0===C||null===(r=C.transaction)||void 0===r||null===(a=r.product)||void 0===a?void 0:a.name)]}),Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Deposit:"})," $".concat((null===C||void 0===C||null===(s=C.transaction)||void 0===s?void 0:s.amount)/100," CAD")]}),Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Purchase Date:"})," ".concat(Date(null===C||void 0===C||null===(d=C.transaction)||void 0===d?void 0:d.createdAt))]}),Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Rate:"})," $".concat(null===C||void 0===C||null===(u=C.transaction)||void 0===u||null===(k=u.product)||void 0===k?void 0:k.rate," per Hour")]}),Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Rate Last Updated:"})," ".concat(Date(null===C||void 0===C||null===(y=C.transaction)||void 0===y||null===(w=y.product)||void 0===w?void 0:w.updatedAt))]})]})}),Object(O.jsx)(b.a,{open:U,handleClose:function(){return E(!1)},children:Object(O.jsxs)(g,{children:[Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Username:"})," ".concat(null===R||void 0===R?void 0:R.username)]}),Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Email:"})," ".concat(null===R||void 0===R?void 0:R.email)]}),Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Phone:"})," ".concat(null===R||void 0===R?void 0:R.phone_number)]}),Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Location:"})," ".concat(null===R||void 0===R?void 0:R.city,",").concat(null===R||void 0===R?void 0:R.province)]})]})}),Object(O.jsxs)(f,{children:[Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Status:"})," ",J]}),Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Tattoo:"})," ",null===N||void 0===N?void 0:N.name]}),Object(O.jsxs)(l.a,{children:[Object(O.jsx)("strong",{children:"Client:"})," ","".concat(Object(j.a)(null===R||void 0===R?void 0:R.first_name)," ").concat(Object(j.a)(null===R||void 0===R?void 0:R.last_name))]})]}),Object(O.jsxs)(v,{children:[Object(O.jsx)(x,{variant:"contained",onClick:function(){return B(!0)},children:"View Order"}),Object(O.jsx)(x,{variant:"contained",onClick:function(){return E(!0)},children:"Contact Customer"}),Object(O.jsx)(x,{variant:"contained",onClick:function(){return function(){var t=!1;C.booked||(t=!0),i.a.bookAppointment(t,C.id).then((function(){return S("success","Succesffully update appointment")})).catch((function(t){t.response&&S("error","error updating appointment status")}))}()},children:(null===C||void 0===C?void 0:C.booked)?"UnBook":"Book"})]})]})}var y=n(141);function w(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],a=e[1],s=Object(c.useState)(!1),d=Object(o.a)(s,2),u=d[0],l=d[1],j=Object(c.useState)("success"),b=Object(o.a)(j,2),p=b[0],h=b[1],f=Object(c.useState)("default msg"),v=Object(o.a)(f,2),x=v[0],g=v[1],m=function(t,e){h(t),g(e),l(!0),i.a.getMerchantAppointments().then((function(t){a(t)}))};return Object(c.useEffect)((function(){i.a.getMerchantAppointments().then((function(t){a(t)})).catch((function(t){return console.log(t)}))}),[]),Object(O.jsxs)(r.a,{children:[Object(O.jsx)("h1",{children:"Merchant Appointment Manager"}),n.length>=1?Object(O.jsx)(O.Fragment,{children:n.map((function(t){return Object(O.jsx)(k,{appointment:t,updateToast:m},t.id)}))}):Object(O.jsx)("p",{children:" No appointments "}),Object(O.jsx)(y.a,{open:u,setOpen:l,severity:p,msg:x})]})}}}]);
//# sourceMappingURL=12.bd41fd4f.chunk.js.map