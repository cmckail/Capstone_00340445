(this["webpackJsonptadoo-client"]=this["webpackJsonptadoo-client"]||[]).push([[15],{124:function(e,t,a){"use strict";var n=a(115),r=a.n(n),s=a(116),c=a(113),l=a.n(c),i=function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).set("key","15d70c0c49ab3173c703b923def2f200"),a.append("image",t),e.abrupt("return",l.a.post("https://api.imgbb.com/1/upload",a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={uploadPhoto:i}},147:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"g",(function(){return j})),a.d(t,"e",(function(){return u}));var n=a(148),r=a(3),s=function(e){if(!e)return Object(r.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},c=function(e){if(!Object(n.isPostalCode)(e,"CA"))return Object(r.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid Canadian postal code."})},l=function(e){if(!Object(n.isMobilePhone)(e))return Object(r.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid Canadian mobile phone number."})},i=function(e){if(e&&e.length>1e3)return Object(r.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The limit is under 1000 Characters"})},o=function(e){if(!Object(n.isEmail)(e))return Object(r.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email."})},j=function(e){if(e.length<3||e.length>20)return Object(r.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},u=function(e){if(e.length<6||e.length>40)return Object(r.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})}},244:function(e,t,a){"use strict";var n=a(115),r=a.n(n),s=a(117),c=a(116),l=a(113),i=a.n(l),o=a(124),j="https://tadoo-backend-p9hgk.ondigitalocean.app/api/auth/",u=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.selectedFile){e.next=6;break}return e.next=3,o.a.uploadPhoto(t.selectedFile).catch((function(e){e.response&&console.log("error response",e.response.data)}));case 3:a=e.sent,n=a.data,t=Object(s.a)(Object(s.a)({},t),{},{profile_picture:JSON.stringify(n.data,null,4)});case 6:return delete t.selectedFile,e.abrupt("return",i.a.post(j+"signup",Object(s.a)({},t)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b={register:u,login:function(e,t){return i.a.post(j+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}};t.a=b},324:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(0),s=a(7),c=a(104),l=a(107),i=a(266),o=a(267),j=a(147),u=a(144),b=a.n(u),d=a(154),m=a.n(d),h=a(146),O=a.n(h),p=a(244),x=a(3);t.default=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),a=Object(r.useState)(""),u=Object(n.a)(a,2),d=u[0],h=u[1],f=Object(r.useState)(""),v=Object(n.a)(f,2),g=v[0],N=v[1],y=Object(r.useState)(""),C=Object(n.a)(y,2),S=C[0],w=C[1],F=Object(r.useState)(""),_=Object(n.a)(F,2),P=_[0],T=_[1],k=Object(r.useState)(""),B=Object(n.a)(k,2),A=B[0],U=B[1],L=Object(r.useState)(""),M=Object(n.a)(L,2),E=M[0],I=M[1],J=Object(r.useState)("ON"),R=Object(n.a)(J,2),D=R[0],K=R[1],Q=Object(r.useState)(""),q=Object(n.a)(Q,2),z=q[0],Y=q[1],G=Object(r.useState)(""),H=Object(n.a)(G,2),V=H[0],W=H[1],X=Object(r.useState)(""),Z=Object(n.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)(""),ae=Object(n.a)(te,2),ne=ae[0],re=ae[1],se=Object(r.useState)(!1),ce=Object(n.a)(se,2),le=ce[0],ie=ce[1],oe=Object(r.useState)(null),je=Object(n.a)(oe,2),ue=je[0],be=je[1],de=Object(r.useState)(!1),me=Object(n.a)(de,2),he=me[0],Oe=me[1],pe=Object(r.useState)(),xe=Object(n.a)(pe,2),fe=xe[0],ve=xe[1],ge=Object(r.useState)(!0),Ne=Object(n.a)(ge,2),ye=Ne[0],Ce=Ne[1],Se=Object(r.useState)("Tester"),we=Object(n.a)(Se,2),Fe=we[0],_e=we[1],Pe=Object(r.useState)(!1),Te=Object(n.a)(Pe,2),ke=Te[0],Be=Te[1],Ae=Object(r.useState)(""),Ue=Object(n.a)(Ae,2),Le=Ue[0],Me=Ue[1],Ee=Object(s.g)();return Object(x.jsx)(c.a,{children:Object(x.jsx)(l.a,{elevation:3,sx:{padding:"20px",width:"70%",margin:"auto",marginTop:"20px"},children:Object(x.jsxs)(b.a,{onSubmit:function(a){a.preventDefault(),Be(!1),Me(""),e.current.validateAll(),0===t.current.context._errors.length&&ye?p.a.register({username:d,email:g,password:S,first_name:P,last_name:A,address:E,city:V,province:D,postal_code:z,appt_number:$,role:le,phone_number:ne,selectedFile:ue}).then((function(e){Ee.push("/login")})).catch((function(e){e.response&&e.response.data.message?Me(e.response.data.message):Me("Unknown error occurred, Please Contact Support")})):console.log("error")},ref:e,children:[!ke&&Object(x.jsxs)(i.a,{container:!0,spacing:1,children:[Object(x.jsxs)(i.a,{item:!0,xs:12,children:[Object(x.jsx)(o.a,{sx:{margin:"auto",width:"125px",height:"125px"},src:fe||"https://thumbs.dreamstime.com/b/default-avatar-profile-vector-user-profile-default-avatar-profile-vector-user-profile-profile-179376714.jpg"}),Object(x.jsx)("label",{htmlFor:"file",children:"Avatar"}),Object(x.jsx)("input",{className:"form-control",type:"file",name:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];Boolean(!t.type.includes("image/"))?(Ce(!1),_e("File must be an Image")):t.size>31457280?(Ce(!1),_e("Photo must be less then 30MB.")):(Ce(!0),be(t),ve(URL.createObjectURL(e.target.files[0])),Oe(!0))}}),he&&!ye&&Object(x.jsx)("div",{className:"alert alert-danger",role:"alert",children:Fe})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,children:[Object(x.jsx)("label",{htmlFor:"role",children:"Do you want to be a Tadoo Merchant?"}),Object(x.jsxs)("select",{name:"role",onChange:function(e){ie(e.target.value)},value:le,className:"form-control",style:{width:"100%"},children:[Object(x.jsx)("option",{value:!1,children:"No, I'm a Customer"}),Object(x.jsx)("option",{value:!0,children:"Yes, I'm a Tattoo Artist"})]})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,children:[Object(x.jsx)("label",{htmlFor:"username",children:"Username"}),Object(x.jsx)(m.a,{type:"text",className:"form-control",name:"username",value:d,onChange:function(e){h(e.target.value.replace(/\s/g,""))},validations:[j.b,j.g]})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)(m.a,{type:"password",className:"form-control",name:"password",value:S,onChange:function(e){w(e.target.value.replace(/\s/g,""))},validations:[j.b,j.e]})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email"}),Object(x.jsx)(m.a,{type:"text",className:"form-control",name:"email",value:g,onChange:function(e){N(e.target.value)},validations:[j.b,j.c]})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)("label",{htmlFor:"first_name",children:"First Name"}),Object(x.jsx)(m.a,{type:"text",className:"form-control",name:"first_name",value:P,onChange:function(e){T(e.target.value)},validations:[j.b]})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),Object(x.jsx)(m.a,{type:"text",className:"form-control",name:"last_name",value:A,onChange:function(e){U(e.target.value)},validations:[j.b]})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)("label",{htmlFor:"city",children:"City"}),Object(x.jsx)(m.a,{type:"text",className:"form-control",name:"city",value:V,onChange:function(e){W(e.target.value)},validations:[j.b]})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,md:4,children:[Object(x.jsx)("label",{htmlFor:"postal_code",children:"Postal Code"}),Object(x.jsx)(m.a,{type:"text",className:"form-control",name:"postal_code",value:z,onChange:function(e){var t=e.target.value;"string"===typeof e.target.value&&(t=t.toUpperCase().trim()),Y(t)},validations:[j.b,j.f]})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,md:2,children:[Object(x.jsx)("label",{htmlFor:"province",children:"Province"}),Object(x.jsxs)("select",{name:"province",onChange:function(e){K(e.target.value)},value:D,className:"form-control",children:[Object(x.jsx)("option",{value:""}),Object(x.jsx)("option",{value:"ON",children:"ON"}),Object(x.jsx)("option",{value:"QC",children:"QC"}),Object(x.jsx)("option",{value:"NB",children:"NB"}),Object(x.jsx)("option",{value:"MB",children:"MB"}),Object(x.jsx)("option",{value:"BC",children:"BC"}),Object(x.jsx)("option",{value:"PE",children:"PE"}),Object(x.jsx)("option",{value:"SK",children:"SK"}),Object(x.jsx)("option",{value:"AB",children:"AB"}),Object(x.jsx)("option",{value:"NL",children:"NL"})]})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,md:10,children:[Object(x.jsx)("label",{htmlFor:"address",children:"Address"}),Object(x.jsx)(m.a,{type:"text",className:"form-control",name:"address",value:E,onChange:function(e){I(e.target.value)},validations:[j.b]})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,md:2,children:[Object(x.jsx)("label",{htmlFor:"appt",children:"Appt"}),Object(x.jsx)(m.a,{type:"text",className:"form-control",name:"postal_code",value:$,onChange:function(e){ee(e.target.value)}})]}),Object(x.jsxs)(i.a,{item:!0,xs:12,children:[Object(x.jsx)("label",{htmlFor:"phone_number",children:"Phone Number"}),Object(x.jsx)(m.a,{type:"text",className:"form-control",name:"string",value:ne,onChange:function(e){re(e.target.value)},validations:[j.b,j.d]})]}),Object(x.jsx)(i.a,{item:!0,xs:12,style:{textAlign:"right"},children:Object(x.jsx)("button",{className:"btn btn-primary btn-block",children:"Sign Up"})})]}),Le&&Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("div",{className:ke?"alert alert-success":"alert alert-danger",role:"alert",children:Le})}),Object(x.jsx)(O.a,{style:{display:"none"},ref:t})]})})})}}}]);
//# sourceMappingURL=15.1443341b.chunk.js.map