(this["webpackJsonptadoo-client"]=this["webpackJsonptadoo-client"]||[]).push([[14],{120:function(t,e,n){"use strict";function r(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.accessToken?{"x-access-token":t.accessToken}:{}}n.d(e,"a",(function(){return r}))},124:function(t,e,n){"use strict";var r=n(115),a=n.n(r),c=n(116),o=n(113),u=n.n(o),s=function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).set("key","15d70c0c49ab3173c703b923def2f200"),n.append("image",e),t.abrupt("return",u.a.post("https://api.imgbb.com/1/upload",n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.a={uploadPhoto:s}},150:function(t,e,n){"use strict";var r=n(115),a=n.n(r),c=n(117),o=n(116),u=n(113),s=n.n(u),i=n(120),d=n(124),l="https://tadoo-backend-p9hgk.ondigitalocean.app/api/",p=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=JSON.parse(localStorage.getItem("user")),!e.selectedFile){t.next=7;break}return t.next=4,d.a.uploadPhoto(e.selectedFile).catch((function(t){return console.error("Error:",t),t}));case 4:r=t.sent,o=r.data,e=Object(c.a)(Object(c.a)({},e),{},{image:JSON.stringify(o.data,null,4)});case 7:return delete e.selectedFile,t.abrupt("return",s.a.put("".concat(l,"products/"),Object(c.a)(Object(c.a)({},e),{},{username:n.username}),{headers:Object(i.a)()}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=JSON.parse(localStorage.getItem("user")),!e.selectedFile){t.next=7;break}return t.next=4,d.a.uploadPhoto(e.selectedFile).catch((function(t){return console.error("Error:",t),t}));case 4:r=t.sent,o=r.data,e=Object(c.a)(Object(c.a)({},e),{},{image:JSON.stringify(o.data,null,4)});case 7:return delete e.selectedFile,t.abrupt("return",s.a.post("".concat(l,"products/"),Object(c.a)(Object(c.a)({},e),{},{merchant_id:n.id}),{headers:Object(i.a)()}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(o.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.post("".concat(l,"create-checkout-session/"),e,{headers:Object(i.a)()}).then((function(t){return t.data})).catch((function(t){return console.error("Error",t),t})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.a={updateProductInfo:p,createProduct:h,deleteProduct:function(t){return s.a.delete("".concat(l,"products/").concat(t),{headers:Object(i.a)()})},getProduct:function(t){return s.a.get("".concat(l,"products/").concat(t),{headers:Object(i.a)()}).then((function(t){return t.data})).catch((function(t){return console.error("Error",t),t}))},searchProducts:function(t){return s.a.get("".concat(l,"search/products?").concat(t),{headers:Object(i.a)()}).then((function(t){return t.data})).catch((function(t){return console.error("Error",t),t}))},createCheckoutSession:b}},245:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n(0);var r=n(9),a=n(109),c=n(299),o=n(300),u=n(301),s=n(302),i=n(7),d=n(3),l=Object(r.a)(c.a)({margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}),p=Object(r.a)(a.a)({textAlign:"center"});function h(t){var e,n=t.product,r=Object(i.g)(),a=function(){try{return JSON.parse(n.image)}catch(t){return{}}}();return Object(d.jsx)(o.a,{sx:{width:"100%"},children:Object(d.jsxs)(u.a,{onClick:function(){return r.push("/market/".concat(null===n||void 0===n?void 0:n.id))},children:[Object(d.jsx)(l,{component:"img",height:"200",image:(null===a||void 0===a||null===(e=a.thumb)||void 0===e?void 0:e.url)||"https://www.medstartr.com/main/images/no-image.png",alt:n.name}),Object(d.jsxs)(s.a,{children:[Object(d.jsx)(p,{gutterBottom:!0,variant:"h5",component:"div",children:null===n||void 0===n?void 0:n.name}),Object(d.jsx)(p,{variant:"body2",color:"text.secondary",children:"$".concat(n.deposit," CAD Deposit")})]})]})})}},252:function(t,e,n){"use strict";var r=n(7);e.a=function(){return new URLSearchParams(Object(r.h)().search)}},336:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return x}));var r=n(21),a=n(0),c=n(266),o=n(109),u=n(7),s=n(245),i=n(150),d=n(107),l=n(333),p=n(340),h=n(303),b=n(297),f=n.n(b),j=n(3);function O(t){var e=t.onSearch,n=Object(a.useState)(""),c=Object(r.a)(n,2),o=c[0],u=c[1],s=function(t){t.preventDefault(),e(o)};return Object(j.jsxs)(d.a,{component:"form",onSubmit:s,sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:[Object(j.jsx)(l.a,{sx:{ml:1,flex:1},placeholder:"Search Marketplace",inputProps:{"aria-label":"Search Tattoos"},value:o,onChange:function(t){return u(t.target.value)}}),Object(j.jsx)(h.a,{sx:{p:"10px"},"aria-label":"search",onClick:s,children:Object(j.jsx)(f.a,{})}),Object(j.jsx)(p.a,{sx:{height:28,m:.5},orientation:"vertical"})]})}var m=n(252);function x(){var t=Object(a.useState)([]),e=Object(r.a)(t,2),n=e[0],d=e[1],l=Object(a.useState)(!1),p=Object(r.a)(l,2),h=p[0],b=p[1],f=Object(m.a)(),x=Object(u.g)(),v=Object(u.h)();Object(a.useEffect)((function(){if(!h){var t=f.get("search");t||(t=" "),i.a.searchProducts("search=".concat(t)).then((function(t){return d(t)})).then((function(){return b(!0)}))}}),[h]);return Object(j.jsxs)(c.a,{container:!0,spacing:1,children:[Object(j.jsx)(c.a,{item:!0,xs:!0,children:Object(j.jsx)(O,{onSearch:function(t){var e=new URLSearchParams({search:t});x.replace({pathname:v.pathname,search:e.toString()}),b(!1)}})}),Object(j.jsx)(c.a,{container:!0,item:!0,xs:12,spacing:1,children:!n||"object"===typeof n&&!n.length?Object(j.jsx)(o.a,{variant:"subtitle2",children:" No Results Found! "}):n.map((function(t){return Object(j.jsx)(c.a,{item:!0,xs:12,sm:6,md:4,children:Object(j.jsx)(s.a,{product:t},"Product-".concat(null===t||void 0===t?void 0:t.id))},null===t||void 0===t?void 0:t.id)}))})]})}}}]);
//# sourceMappingURL=14.2d7cd187.chunk.js.map